# =============================================================================
# CLERK Environment Configuration
# =============================================================================

# LLM ACCESS
# ----------
# Your OpenAI API key for running reasoning kits
OPENAI_API_KEY=your_openai_api_key


# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Found in Supabase Dashboard > Project Settings > API
#
# These variables are required for database operations.
# If not configured, CLERK will fall back to local filesystem mode.

# Supabase project URL (required)
# Example: https://abcdefghijklmnop.supabase.co
SUPABASE_URL=

# Supabase anon/public key (required)
# Used for public read operations and client-side access
SUPABASE_ANON_KEY=

# Supabase service role key (optional, but recommended)
# Used for admin operations like creating storage buckets and running migrations
# Keep this secret! Never expose in client-side code.
SUPABASE_SERVICE_ROLE_KEY=


# =============================================================================
# DATABASE CONNECTION
# =============================================================================
# Found in Supabase Dashboard > Project Settings > Database > Connection string
#
# Use the "URI" format and replace [YOUR-PASSWORD] with your database password.
# IMPORTANT: Use the asyncpg driver prefix: postgresql+asyncpg://

# Connection pooler URL (recommended for normal operations)
# Port 6543 uses the Supabase connection pooler (PgBouncer)
# Example: postgresql+asyncpg://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=

# Direct connection URL (recommended for migrations)
# Port 5432 connects directly to PostgreSQL, bypassing the pooler
# Required for schema changes and DDL operations
# Example: postgresql+asyncpg://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres
DATABASE_URL_DIRECT=


# =============================================================================
# USAGE NOTES
# =============================================================================
#
# GETTING STARTED:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your OpenAI API key
# 3. (Optional) Add Supabase credentials for cloud database support
#
# LOCAL MODE:
# If Supabase is not configured, CLERK operates in local-only mode:
#   - Reasoning kits are stored in the reasoning_kits/ directory
#   - Evaluations are saved as JSON files
#   - No sync between machines
#
# DATABASE MODE (with Supabase):
# With Supabase configured, CLERK provides:
#   - Centralized storage of reasoning kits
#   - Version history for all kits
#   - Multi-user support with authentication
#   - Binary file support (PDF, XLSX, etc.)
#   - Full-text search across resources
#   - Execution run tracking and analytics
#
# SETUP COMMANDS:
#   clerk db setup      # Run migrations and create storage bucket
#   clerk db status     # Check migration status
#   clerk sync list     # Compare local vs database kits
#   clerk sync push X   # Push local kit X to database
#   clerk sync pull X   # Pull kit X from database to local
#
# =============================================================================
